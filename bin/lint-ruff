#!/bin/bash
set -o xtrace
set -o errexit

LINT_PATHS=("src/" "tests/")
if [[ -n "$1" ]]; then
    LINT_PATHS=("$1")
fi

poetry run ruff check --output-format "${2:-text}" "${LINT_PATHS[@]}"
poetry run ruff format --check "${LINT_PATHS[@]}"
